(function(e){function t(t){for(var r,i,a=t[0],s=t[1],u=t[2],m=0,d=[];m<a.length;m++)i=a[m],o[i]&&d.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={1:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=s;c.push([8,0]),n()})({0:function(e,t){},8:function(e,t,n){e.exports=n("Vtdi")},GtvE:function(e,t,n){"use strict";var r=n("nE/Y"),o=n.n(r);o.a},OEMj:function(e,t,n){},Vtdi:function(e,t,n){"use strict";n.r(t);n("ls82");var r=n("MECJ"),o=(n("VRzm"),n("Kw5r")),c=n("XJYT"),i=n.n(c);n("D66Q");function a(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse(localStorage.getItem(t)));case 1:case"end":return e.stop()}},e,this)})),s.apply(this,arguments)}function u(e,t){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:localStorage.setItem(t,JSON.stringify(n));case 1:case"end":return e.stop()}},e,this)})),l.apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:localStorage.removeItem(t);case 1:case"end":return e.stop()}},e,this)})),d.apply(this,arguments)}var f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$store.state.credentials?n("application"):n("login")},p=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-menu",{attrs:{"default-active":e.menuIdx,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[n("el-menu-item",{attrs:{index:"logo"}},[e._v("AWS Quick Look")]),e._v(" "),n("el-menu-item",{attrs:{index:"github"}},[n("a",{attrs:{href:"https://github.com/awsql/awsql"}},[e._v("Github")])]),e._v(" "),n("el-menu-item",{attrs:{index:"logout"}},[e._v("Logout")])],1),e._v(" "),n("div",{staticClass:"content"},[n("awsql")],1)],1)},g=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.regions}},[n("el-table-column",{attrs:{label:"Region"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+" ("+e._s(t.row.code)+")\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Services count"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        [ "+e._s(t.row.count)+" ]\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Info"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("region-loadings-info",{attrs:{code:t.row.code}}),e._v(" "),n("region-errors-info",{attrs:{code:t.row.code}})]}}])})],1)],1)},_=[],b=n("yT7P"),k=[{code:"us-east-1",name:"US East (N. Virginia)"},{code:"us-east-2",name:"US East (Ohio)"},{code:"us-west-1",name:"US West (N. California)"},{code:"us-west-2",name:"US West (Oregon)"},{code:"ap-south-1",name:"Asia Pacific (Mumbai)"},{code:"ap-northeast-2",name:"Asia Pacific (Seoul)"},{code:"ap-northeast-3",name:"Asia Pacific (Osaka-Local)"},{code:"ap-southeast-1",name:"Asia Pacific (Singapore)"},{code:"ap-southeast-2",name:"Asia Pacific (Sydney)"},{code:"ap-northeast-1",name:"Asia Pacific (Tokyo)"},{code:"ca-central-1",name:"Canada (Central)"},{code:"eu-central-1",name:"EU (Frankfurt)"},{code:"eu-west-1",name:"EU (Ireland)"},{code:"eu-west-2",name:"EU (London)"},{code:"eu-west-3",name:"EU (Paris)"},{code:"sa-east-1",name:"South America (SÃ£o Paulo)"}],w=k,y=k.map(function(e){return e.code}),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("icon",{attrs:{icon:e.icon,items:e.items},on:{click:e.click}})},j=[],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{width:"350",trigger:"hover",disabled:!e.items.length}},[e._l(e.items,function(t){return n("div",{key:t},[e._v("\n    "+e._s(t)+"\n  ")])}),e._v(" "),n("i",{class:e.icon,attrs:{slot:"reference"},on:{click:e.click},slot:"reference"})],2)},E=[],S={props:{items:Array,icon:{}},computed:{},methods:{click:function(){this.$emit("click")}}},P=S,R=(n("ikEx"),n("KHd+")),C=Object(R["a"])(P,x,E,!1,null,"2c733bb6",null),$=C.exports,A={props:["code"],computed:{items:function(){return this.$store.getters["regions/".concat(this.code,"/loadings")].map(function(e){return"Loading ".concat(e.service," ").concat(e.collection)})},icon:function(){return this.items.length<1?"el-icon-refresh region-loadings-icon-empty":"el-icon-loading"}},methods:{click:function(){this.items.length||(this.$store.dispatch("regions/resetRegionData",this.code),this.$store.dispatch("regions/loadRegionData",this.code))}},components:{Icon:$}},F=A,L=(n("mV1X"),Object(R["a"])(F,O,j,!1,null,null,null)),q=L.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("icon",{attrs:{icon:e.icon,items:e.items}})},D=[],J={props:["code"],computed:{items:function(){return this.$store.getters["regions/".concat(this.code,"/errors")].map(function(e){return"".concat(e.service," ").concat(e.collection,": ").concat(e.error)})},icon:function(){return this.items.length>0?"el-icon-warning region-errors-icon-non-empty":"el-icon-warning"}},components:{Icon:$}},U=J,V=(n("pns1"),Object(R["a"])(U,I,D,!1,null,null,null)),Y=V.exports,K={computed:{regions:function(){var e=this;return w.map(function(t){return Object(b["a"])({},t,{count:e.$store.getters["regions/".concat(t.code,"/count")]})})},loadings:function(){return this.$store.getters["regions/loadings"]}},methods:{},components:{RegionLoadingsInfo:q,RegionErrorsInfo:Y}},M=K,N=Object(R["a"])(M,v,_,!1,null,null,null),T=N.exports,G={name:"main-page",data:function(){return{menuIdx:"logo"}},created:function(){this.$store.dispatch("regions/loadAllData")},methods:{handleSelect:function(e){"logout"===e&&(m("credentials"),this.$store.commit("setCredentials",void 0))}},components:{Awsql:T}},W=G,Q=(n("GtvE"),Object(R["a"])(W,h,g,!1,null,null,null)),z=Q.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-wrapper"},[n("div",[n("h1",[e._v("AWS Quick Look")]),e._v(" "),n("div",{staticClass:"tip"},[e._v("\n      This is serverless application. Your credentials will be stored only in your browser.\n    ")]),e._v(" "),n("el-form",{ref:"loginForm",attrs:{model:e.loginForm}},[n("el-form-item",{attrs:{label:"AWS access key ID",prop:"aws_access_key_id",rules:[{required:!0,message:"is required"}]}},[n("el-input",{model:{value:e.loginForm.aws_access_key_id,callback:function(t){e.$set(e.loginForm,"aws_access_key_id",t)},expression:"loginForm.aws_access_key_id"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"AWS secret access key",prop:"aws_secret_access_key",rules:[{required:!0,message:"is required"}]}},[n("el-input",{model:{value:e.loginForm.aws_secret_access_key,callback:function(t){e.$set(e.loginForm,"aws_secret_access_key",t)},expression:"loginForm.aws_secret_access_key"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("Submit")])],1)],1)],1)])},Z=[],B={data:function(){return{loginForm:{aws_access_key_id:"",aws_secret_access_key:""}}},methods:{submitForm:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&(u("credentials",e.loginForm),e.$store.commit("setCredentials",e.loginForm))})}}},H=B,ee=(n("jTkt"),Object(R["a"])(H,X,Z,!1,null,"69276666",null)),te=ee.exports,ne={components:{Application:z,Login:te}},re=ne,oe=(n("ZL7j"),Object(R["a"])(re,f,p,!1,null,null,null)),ce=oe.exports,ie=(n("hhXQ"),n("L2JU")),ae=n("VJLA"),se=n.n(ae),ue=n("TYy9"),le=n.n(ue),me=n("0YDr"),de=n.n(me),fe=n("QVEU"),pe=n.n(fe),he=[{code:"ElasticBeanstalk",className:"ElasticBeanstalk",name:"Elastic Beanstalk",collections:[{code:"applications",name:"Applications",method:"describeApplications",resultPath:"Applications"}]},{code:"EC2",name:"EC2",className:"EC2",collections:[{code:"instances",name:"Instances",method:"describeInstances",resultPath:"Reservations"}]},{code:"Lambda",name:"Lambda",className:"Lambda",collections:[{code:"functions",name:"Functions",method:"listFunctions",resultPath:"Functions"}]}],ge=he,ve=he.map(function(e){return e.code}),_e=(pe()(he.map(function(e){return Object(b["a"])({},e,{collections:pe()(e.collections,"code")})}),"code"),n("dRSK"),n("Sp1i")),be=n.n(_e),ke=n("mwIZ"),we=n.n(ke),ye=n("xmWZ"),Oe=n("qpph"),je=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;Object(ye["a"])(this,e),this.pendingPromises=0,this.maxPendingPromises=t,this.queue=[]}return Object(Oe["a"])(e,[{key:"add",value:function(e){var t=this;return new Promise(function(n,r){t.queue.push({promiseGenerator:e,resolve:n,reject:r}),t._dequeue()})}},{key:"_dequeue",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.pendingPromises>=this.maxPendingPromises)){e.next=2;break}return e.abrupt("return",!1);case 2:if(t=this.queue.shift(),t){e.next=5;break}return e.abrupt("return",!1);case 5:return this.pendingPromises++,e.prev=6,e.next=9,t.promiseGenerator();case 9:n=e.sent,t.resolve(n),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](6),t.reject(e.t0);case 16:this.pendingPromises--,this._dequeue();case 18:case"end":return e.stop()}},e,this,[[6,13]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),xe=new je(10);function Ee(e,t,n){return xe.add(Object(r["a"])(regeneratorRuntime.mark(function r(){var o,c,i,a;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return o=ge.find(function(e){var n=e.code;return n===t}),c=o.collections.find(function(e){var t=e.code;return t===n}),i=new be.a[o.className]({region:e}),r.next=5,i[c.method]().promise();case 5:return a=r.sent,r.abrupt("return",we()(a,c.resultPath));case 7:case"end":return r.stop()}},r,this)})))}function Se(e){be.a.config.credentials=e&&new be.a.Credentials(e.aws_access_key_id,e.aws_secret_access_key)}function Pe(e){return{namespaced:!0,state:se()(e.map(function(e){return e.code}),e.map(function(){return{loading:!1,items:[],error:void 0}})),getters:{loadings:function(e){return Object.keys(e).filter(function(t){return e[t].loading})},errors:function(e){return Object.keys(e).filter(function(t){return e[t].error}).map(function(t){return{collection:t,error:e[t].error}})},count:function(e){return de()(Object.values(e).map(function(e){return e.items.length}))}},mutations:{setCollectionKey:function(e,t){var n=t.collection,r=t.key,o=t.value;e[n][r]=o},resetCollection:function(e,t){e[t]={loading:!1,items:[],error:void 0}}}}}function Re(){return{namespaced:!0,modules:se()(ve,ge.map(function(e){var t=e.collections;return Pe(t)})),getters:{loadings:function(e,t){return le()(Object.keys(e).map(function(e){return t["".concat(e,"/loadings")].map(function(t){return{service:e,collection:t}})}))},errors:function(e,t){return le()(Object.keys(e).map(function(e){return t["".concat(e,"/errors")].map(function(t){return Object(b["a"])({},t,{service:e})})}))},count:function(e,t){return de()(Object.keys(e).map(function(e){return t["".concat(e,"/count")]}))}}}}o["default"].use(ie["a"]);var Ce={namespaced:!0,getters:{loadings:function(e,t){return le()(Object.keys(e).map(function(e){return t["".concat(e,"/loadings")].map(function(t){return Object(b["a"])({},t,{region:e})})}))},errors:function(e,t){return le()(Object.keys(e).map(function(e){return t["".concat(e,"/errors")].map(function(t){return Object(b["a"])({},t,{region:e})})}))},count:function(e,t){return de()(Object.keys(e).map(function(e){return t["".concat(e,"/count")]}))}},modules:se()(y,y.map(Re)),actions:{loadCollectionData:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,o,c,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.service,o=n.region,c=n.collection,t.commit("".concat(o,"/").concat(r,"/setCollectionKey"),{collection:c,key:"loading",value:!0}),e.prev=2,e.next=5,Ee(o,r,c);case 5:i=e.sent,t.commit("".concat(o,"/").concat(r,"/setCollectionKey"),{collection:c,key:"items",value:i}),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log("fail",r,o,c,e.t0),t.commit("".concat(o,"/").concat(r,"/setCollectionKey"),{collection:c,key:"error",value:e.t0});case 13:t.commit("".concat(o,"/").concat(r,"/setCollectionKey"),{collection:c,key:"loading",value:!1});case 14:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t,n){return e.apply(this,arguments)}}(),loadRegionData:function(e,t){var n=e.state,r=e.dispatch;for(var o in n[t])for(var c in n[t][o])r("loadCollectionData",{region:t,service:o,collection:c})},loadAllData:function(e){var t=e.state,n=e.dispatch;for(var r in t)n("loadRegionData",r)},resetRegionData:function(e,t){var n=e.state,r=e.commit;for(var o in n[t])for(var c in n[t][o])r("".concat(t,"/").concat(o,"/resetCollection"),c)},resetAllData:function(e){var t=e.state,n=e.dispatch;for(var r in t)n("resetRegionData",r)}}},$e=new ie["a"].Store({state:{credentials:void 0},mutations:{setCredentials:function(e,t){Se(t),e.credentials=t}},actions:{},modules:{regions:Ce}});o["default"].use(i.a),o["default"].config.productionTip=!1,new o["default"]({store:$e,created:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a("credentials");case 2:t=e.sent,this.$store.commit("setCredentials",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),render:function(e){return e(ce)}}).$mount("#app")},YnGJ:function(e,t,n){},ZL7j:function(e,t,n){"use strict";var r=n("YnGJ"),o=n.n(r);o.a},a2FV:function(e,t,n){},cYkO:function(e,t,n){},ikEx:function(e,t,n){"use strict";var r=n("cYkO"),o=n.n(r);o.a},jTkt:function(e,t,n){"use strict";var r=n("OEMj"),o=n.n(r);o.a},mV1X:function(e,t,n){"use strict";var r=n("a2FV"),o=n.n(r);o.a},"nE/Y":function(e,t,n){},pns1:function(e,t,n){"use strict";var r=n("zMLt"),o=n.n(r);o.a},zMLt:function(e,t,n){}});
//# sourceMappingURL=app.782b1536.js.map