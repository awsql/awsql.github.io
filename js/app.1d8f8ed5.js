(function(e){function t(t){for(var r,c,i=t[0],s=t[1],l=t[2],d=0,p=[];d<i.length;d++)c=i[d],o[c]&&p.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={1:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},c.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;a.push([13,0]),n()})({0:function(e,t){},13:function(e,t,n){e.exports=n("Vtdi")},"4Mqr":function(e,t,n){"use strict";var r=n("Vx2g"),o=n.n(r);o.a},BgvM:function(e,t,n){},K38S:function(e,t,n){},OXat:function(e,t,n){"use strict";var r=n("oXqg"),o=n.n(r);o.a},Vtdi:function(e,t,n){"use strict";n.r(t);n("ls82");var r=n("MECJ"),o=(n("VRzm"),n("Kw5r")),a=n("n3sq");n("+eM2"),n("LdiE"),n("K38S"),n("pKxC"),n("BgvM");function c(e){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse(localStorage.getItem(t)));case 1:case"end":return e.stop()}},e,this)})),i.apply(this,arguments)}function s(e,t){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:localStorage.setItem(t,JSON.stringify(n));case 1:case"end":return e.stop()}},e,this)})),l.apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:localStorage.removeItem(t);case 1:case"end":return e.stop()}},e,this)})),d.apply(this,arguments)}var p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$store.state.credentials?n("application"):n("login")},m=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-1"},[n("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[n("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),n("b-navbar-brand",[e._v("AWS Quick Look")]),e._v(" "),n("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item",{attrs:{href:"https://github.com/awsql/awsql"}},[e._v("Github")]),e._v(" "),n("b-nav-item",{attrs:{href:"#"},on:{click:e.logout}},[e._v("Logout")])],1)],1)],1),e._v(" "),n("div",{staticClass:"mt-1"},[n("by-regions")],1)],1)},v=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-list-group",e._l(e.regions,function(t){return n("b-list-group-item",{key:t.code,staticClass:"flex-column align-items-start list-group-item-action"},[n("div",{staticClass:"d-flex w-100 justify-content-between"},[n("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"reg-line-"+t.code,expression:"`reg-line-${reg.code}`"}],staticClass:"text flex-grow-1"},[e._v(e._s(t.name)+" ["+e._s(t.code)+"]")]),e._v(" "),n("div",{staticClass:"mr-2 count text-center"},[n("region-services-count",{attrs:{code:t.code}})],1),e._v(" "),n("div",{staticClass:"d-flex"},[n("popover-icon-region-loading",{staticClass:"mr-2",attrs:{code:t.code}}),e._v(" "),n("popover-icon-region-error",{attrs:{code:t.code}})],1)]),e._v(" "),n("b-collapse",{attrs:{id:"reg-line-"+t.code}},[n("b-card",{staticClass:"mt-2"},[n("region-details",{attrs:{code:t.code}})],1)],1)],1)}))],1)},h=[],b=n("yT7P"),_=[{code:"us-east-1",name:"US East (N. Virginia)"},{code:"us-east-2",name:"US East (Ohio)"},{code:"us-west-1",name:"US West (N. California)"},{code:"us-west-2",name:"US West (Oregon)"},{code:"ap-south-1",name:"Asia Pacific (Mumbai)"},{code:"ap-northeast-2",name:"Asia Pacific (Seoul)"},{code:"ap-northeast-3",name:"Asia Pacific (Osaka-Local)"},{code:"ap-southeast-1",name:"Asia Pacific (Singapore)"},{code:"ap-southeast-2",name:"Asia Pacific (Sydney)"},{code:"ap-northeast-1",name:"Asia Pacific (Tokyo)"},{code:"ca-central-1",name:"Canada (Central)"},{code:"eu-central-1",name:"EU (Frankfurt)"},{code:"eu-west-1",name:"EU (Ireland)"},{code:"eu-west-2",name:"EU (London)"},{code:"eu-west-3",name:"EU (Paris)"},{code:"sa-east-1",name:"South America (SÃ£o Paulo)"}],y=_,k=_.map(function(e){return e.code}),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("icon",{class:!e.items.length&&"text-primary",attrs:{icon:e.icon,disabled:!e.items.length,spin:e.items.length},on:{click:e.click}},e._l(e.items,function(t,r){return n("div",{key:t,class:r&&"mt-2"},[e._v("\n    "+e._s(t)+"\n  ")])}))},x=[],O=(n("f3/d"),n("QVEU")),C=n.n(O),j=[{code:"ElasticBeanstalk",className:"ElasticBeanstalk",name:"Elastic Beanstalk",collections:[{code:"applications",name:"Applications",method:"describeApplications",resultPath:"Applications"},{code:"environments",name:"Environments",method:"describeEnvironments",resultPath:"Environments"}]},{code:"EC2",name:"EC2",className:"EC2",collections:[{code:"instances",name:"Instances",method:"describeInstances",resultPath:"Reservations"}]},{code:"Lambda",name:"Lambda",className:"Lambda",collections:[{code:"functions",name:"Functions",method:"listFunctions",resultPath:"Functions"}]}],S=j,E=j.map(function(e){return e.code}),P=C()(j.map(function(e){return Object(b["a"])({},e,{collections:C()(e.collections,"code")})}),"code"),$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tag,{tag:"component"},[n("span",{staticClass:"fa",class:e.iconClass,attrs:{id:e.htmlId},on:{click:function(t){e.$emit("click")}}}),e._v(" "),n("b-popover",{attrs:{target:e.htmlId,triggers:"hover focus"}},[e._t("default")],2)],1)},R=[],A=n("oyJW"),q=0,I={props:{tag:{default:"div"},icon:{required:!0},spin:{},htmlId:{default:function(){return"popover-icon-".concat(q++)}}},computed:{iconClass:function(){var e;return e={},Object(A["a"])(e,"fa-".concat(this.icon),!0),Object(A["a"])(e,"fa-spin",this.spin),e}}},D=I,L=(n("4Mqr"),n("KHd+")),F=Object(L["a"])(D,$,R,!1,null,null,null),W=F.exports,K={props:["code"],computed:{items:function(){return this.$store.getters["regions/".concat(this.code,"/loadings")].map(function(e){var t=P[e.service].name,n=P[e.service].collections[e.collection].name;return"Loading ".concat(t," ").concat(n)})},icon:function(){return this.items.length<1?"sync-alt":"spinner"}},methods:{click:function(){this.items.length||(this.$store.dispatch("regions/resetRegionData",this.code),this.$store.dispatch("regions/loadRegionData",this.code))}},components:{Icon:W}},N=K,U=Object(L["a"])(N,w,x,!1,null,null,null),M=U.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("icon",{class:e.items.length&&"text-danger",attrs:{icon:"exclamation-circle",disabled:!e.items.length}},e._l(e.items,function(t,r){return n("div",{key:t,class:r&&"mt-2"},[e._v("\n    "+e._s(t)+"\n  ")])}))},V=[],B={props:["code"],computed:{items:function(){return this.$store.getters["regions/".concat(this.code,"/errors")].map(function(e){var t=P[e.service].name,n=P[e.service].collections[e.collection].name;return"".concat(t," ").concat(n,": ").concat(e.error)})}},components:{Icon:W}},G=B,T=Object(L["a"])(G,J,V,!1,null,null,null),X=T.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v("[ "+e._s(e.count)+" ]")])},Y=[],H={props:["code"],computed:{count:function(){return this.$store.getters["regions/".concat(this.code,"/count")]}}},Z=H,z=Object(L["a"])(Z,Q,Y,!1,null,null,null),ee=z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"table table-hover table-sm mb-0 no-first-border"},[n("tbody",e._l(e.services,function(t){return n("tr",{key:t.text},[n("td",[e._v(e._s(t.text))]),e._v(" "),n("td",{attrs:{width:"100px"}},[n("service-count",{attrs:{region:e.code,service:t.service,collection:t.collection}}),e._v(" "),n("service-data-provider",{attrs:{region:e.code,service:t.service,collection:t.collection},scopedSlots:e._u([{key:"default",fn:function(t){return t.loading?n("span",{staticClass:"fa fa-spinner fa-spin"}):e._e()}}])}),e._v(" "),n("service-data-provider",{attrs:{region:e.code,service:t.service,collection:t.collection},scopedSlots:e._u([{key:"default",fn:function(t){return t.error?n("info-icon",{staticClass:"text-danger",attrs:{tag:"span",icon:"exclamation-circle"}},[n("span",[e._v(e._s(t.error.toString()))])]):e._e()}}])})],1)])}))])])},ne=[],re=(n("rE2o"),n("ioFf"),n("rGqo"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v("[ "+e._s(e.count)+" ]")])}),oe=[],ae={props:["region","service","collection"],computed:{count:function(){return this.$store.state.regions[this.region][this.service][this.collection].items.length}}},ce=ae,ie=Object(L["a"])(ce,re,oe,!1,null,null,null),se=ie.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tagName,{tag:"component"},[e._t("default",null,null,e.info)],2)},ue=[],de={props:{tagName:{default:"span"},region:{},service:{},collection:{}},computed:{info:function(){return this.$store.state.regions[this.region][this.service][this.collection]}}},pe=de,me=Object(L["a"])(pe,le,ue,!1,null,null,null),fe=me.exports,ve={props:["code"],computed:{services:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,a=S[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var c=o.value,i=!0,s=!1,l=void 0;try{for(var u,d=c.collections[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var p=u.value;e.push({service:c.code,collection:p.code,text:"".concat(c.name," ").concat(p.name)})}}catch(e){s=!0,l=e}finally{try{i||null==d.return||d.return()}finally{if(s)throw l}}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},components:{ServiceCount:se,ServiceDataProvider:fe,InfoIcon:W}},ge=ve,he=(n("qWfr"),Object(L["a"])(ge,te,ne,!1,null,"60b145d0",null)),be=he.exports,_e={computed:{regions:function(){return y.map(function(e){return Object(b["a"])({},e)})},loadings:function(){return this.$store.getters["regions/loadings"]}},methods:{},components:{RegionDetails:be,RegionServicesCount:ee,PopoverIconRegionLoading:M,PopoverIconRegionError:X}},ye=_e,ke=(n("OXat"),Object(L["a"])(ye,g,h,!1,null,"e69417b0",null)),we=ke.exports,xe={name:"main-page",created:function(){this.$store.dispatch("regions/loadAllData")},methods:{logout:function(e){e.preventDefault(),u("credentials"),this.$store.commit("setCredentials",void 0)}},components:{ByRegions:we}},Oe=xe,Ce=Object(L["a"])(Oe,f,v,!1,null,null,null),je=Ce.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5"},[n("h1",[e._v("AWS Quick Look")]),e._v(" "),n("b-alert",{attrs:{show:""}},[e._v("\n    This is backendless application works directly with AWS APIs. Your credentials will be stored only in your browser.\n  ")]),e._v(" "),n("b-form",{on:{submit:e.onSubmit}},[n("b-form-group",{attrs:{label:"AWS access key ID:"}},[n("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter AWS access key ID"},model:{value:e.loginForm.aws_access_key_id,callback:function(t){e.$set(e.loginForm,"aws_access_key_id",t)},expression:"loginForm.aws_access_key_id"}})],1),e._v(" "),n("b-form-group",{attrs:{label:"AWS secret access key:"}},[n("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter AWS secret access key"},model:{value:e.loginForm.aws_secret_access_key,callback:function(t){e.$set(e.loginForm,"aws_secret_access_key",t)},expression:"loginForm.aws_secret_access_key"}})],1),e._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),e._v(" "),n("a",{staticClass:"btn float-right",attrs:{href:"https://github.com/awsql/awsql"}},[n("span",{staticClass:"fab fa-github"}),e._v(" GitHub")])],1)],1)},Ee=[],Pe={data:function(){return{loginForm:{aws_access_key_id:"",aws_secret_access_key:""}}},methods:{onSubmit:function(e){e.preventDefault(),s("credentials",this.loginForm),this.$store.commit("setCredentials",this.loginForm)}}},$e=Pe,Re=Object(L["a"])($e,Se,Ee,!1,null,null,null),Ae=Re.exports,qe={components:{Application:je,Login:Ae}},Ie=qe,De=Object(L["a"])(Ie,p,m,!1,null,null,null),Le=De.exports,Fe=(n("hhXQ"),n("L2JU")),We=n("VJLA"),Ke=n.n(We),Ne=n("TYy9"),Ue=n.n(Ne),Me=n("0YDr"),Je=n.n(Me),Ve=(n("dRSK"),n("Sp1i")),Be=n.n(Ve),Ge=n("mwIZ"),Te=n.n(Ge),Xe=n("xmWZ"),Qe=n("qpph"),Ye=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;Object(Xe["a"])(this,e),this.pendingPromises=0,this.maxPendingPromises=t,this.queue=[]}return Object(Qe["a"])(e,[{key:"add",value:function(e){var t=this;return new Promise(function(n,r){t.queue.push({promiseGenerator:e,resolve:n,reject:r}),t._dequeue()})}},{key:"_dequeue",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.pendingPromises>=this.maxPendingPromises)){e.next=2;break}return e.abrupt("return",!1);case 2:if(t=this.queue.shift(),t){e.next=5;break}return e.abrupt("return",!1);case 5:return this.pendingPromises++,e.prev=6,e.next=9,t.promiseGenerator();case 9:n=e.sent,t.resolve(n),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](6),t.reject(e.t0);case 16:this.pendingPromises--,this._dequeue();case 18:case"end":return e.stop()}},e,this,[[6,13]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),He=new Ye(10);function Ze(e,t,n){return He.add(Object(r["a"])(regeneratorRuntime.mark(function r(){var o,a,c,i;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return o=S.find(function(e){var n=e.code;return n===t}),a=o.collections.find(function(e){var t=e.code;return t===n}),c=new Be.a[o.className]({region:e}),r.next=5,c[a.method]().promise();case 5:return i=r.sent,r.abrupt("return",Te()(i,a.resultPath));case 7:case"end":return r.stop()}},r,this)})))}function ze(e){Be.a.config.credentials=e&&new Be.a.Credentials(e.aws_access_key_id,e.aws_secret_access_key)}function et(e){return{namespaced:!0,state:Ke()(e.map(function(e){return e.code}),e.map(function(){return{loading:!1,items:[],error:void 0}})),getters:{loadings:function(e){return Object.keys(e).filter(function(t){return e[t].loading})},errors:function(e){return Object.keys(e).filter(function(t){return e[t].error}).map(function(t){return{collection:t,error:e[t].error}})},count:function(e){return Je()(Object.values(e).map(function(e){return e.items.length}))}},mutations:{setCollectionKey:function(e,t){var n=t.collection,r=t.key,o=t.value;e[n][r]=o},resetCollection:function(e,t){e[t]={loading:!1,items:[],error:void 0}}}}}function tt(){return{namespaced:!0,modules:Ke()(E,S.map(function(e){var t=e.collections;return et(t)})),getters:{loadings:function(e,t){return Ue()(Object.keys(e).map(function(e){return t["".concat(e,"/loadings")].map(function(t){return{service:e,collection:t}})}))},errors:function(e,t){return Ue()(Object.keys(e).map(function(e){return t["".concat(e,"/errors")].map(function(t){return Object(b["a"])({},t,{service:e})})}))},count:function(e,t){return Je()(Object.keys(e).map(function(e){return t["".concat(e,"/count")]}))}}}}o["a"].use(Fe["a"]);var nt={namespaced:!0,getters:{loadings:function(e,t){return Ue()(Object.keys(e).map(function(e){return t["".concat(e,"/loadings")].map(function(t){return Object(b["a"])({},t,{region:e})})}))},errors:function(e,t){return Ue()(Object.keys(e).map(function(e){return t["".concat(e,"/errors")].map(function(t){return Object(b["a"])({},t,{region:e})})}))},count:function(e,t){return Je()(Object.keys(e).map(function(e){return t["".concat(e,"/count")]}))}},modules:Ke()(k,k.map(tt)),actions:{loadCollectionData:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,o,a,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.service,o=n.region,a=n.collection,t.commit("".concat(o,"/").concat(r,"/setCollectionKey"),{collection:a,key:"loading",value:!0}),e.prev=2,e.next=5,Ze(o,r,a);case 5:c=e.sent,t.commit("".concat(o,"/").concat(r,"/setCollectionKey"),{collection:a,key:"items",value:c}),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log("fail",r,o,a,e.t0),t.commit("".concat(o,"/").concat(r,"/setCollectionKey"),{collection:a,key:"error",value:e.t0});case 13:t.commit("".concat(o,"/").concat(r,"/setCollectionKey"),{collection:a,key:"loading",value:!1});case 14:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t,n){return e.apply(this,arguments)}}(),loadRegionData:function(e,t){var n=e.state,r=e.dispatch;for(var o in n[t])for(var a in n[t][o])r("loadCollectionData",{region:t,service:o,collection:a})},loadAllData:function(e){var t=e.state,n=e.dispatch;for(var r in t)n("loadRegionData",r)},resetRegionData:function(e,t){var n=e.state,r=e.commit;for(var o in n[t])for(var a in n[t][o])r("".concat(t,"/").concat(o,"/resetCollection"),a)},resetAllData:function(e){var t=e.state,n=e.dispatch;for(var r in t)n("resetRegionData",r)}}},rt=new Fe["a"].Store({state:{credentials:void 0},mutations:{setCredentials:function(e,t){ze(t),e.credentials=t}},actions:{},modules:{regions:nt}});o["a"].use(a["a"]),o["a"].config.productionTip=!1,new o["a"]({store:rt,created:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c("credentials");case 2:t=e.sent,this.$store.commit("setCredentials",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),render:function(e){return e(Le)}}).$mount("#app")},Vx2g:function(e,t,n){},oL95:function(e,t,n){},oXqg:function(e,t,n){},pKxC:function(e,t,n){},qWfr:function(e,t,n){"use strict";var r=n("oL95"),o=n.n(r);o.a}});
//# sourceMappingURL=app.1d8f8ed5.js.map